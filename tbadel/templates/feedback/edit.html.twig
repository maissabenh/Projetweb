{% extends 'base.html.twig' %}

{% block title %}Edit Feedback{% endblock %}

{% block body %}
 <a href="{{ path('app_feedback_index') }}"><i class="icon-back fas fa-arrow-circle-left"></i>back to list</a>
    <h1 class="text-center mb-5">Edit Feedback</h1>
  <div class="container mt-5">
    <div class="row justify-content-center">
      <div class="col-lg-8 col-md-10">
        <div class="form-container">
        {{ form_start(form) }}

        <div class="form-group">
            {{ form_label(form.rating, 'Rating') }}
            {{ form_errors(form.rating) }}
            <div class="rating">
                <label id="rating-label"></label>
                <span class="fa fa-star" data-value="1"></span>
                <span class="fa fa-star" data-value="2"></span>
                <span class="fa fa-star" data-value="3"></span>
                <span class="fa fa-star" data-value="4"></span>
                <span class="fa fa-star" data-value="5"></span>
                {{ form_widget(form.rating, {'attr': {'class': 'd-none'}}) }}
            </div>
        </div>

        <div class="form-group">
            {{ form_label(form.comment, 'Comment') }}
            {{ form_errors(form.comment) }}
            {{ form_widget(form.comment, {'attr': {'class': 'form-control'}}) }}
        </div>
        <div class="form-group">
           {{ form_label(form.date, 'Date') }}
           {{ form_errors(form.date) }}
        {{ form_widget(form.date, {'attr': {'class': 'form-control', 'type': 'date', 'value': date()|date('Y-m-d')}}) }}
        </div>
         <div class="form-group">
            {{ form_label(form.transaction, 'Transaction') }}
            {{ form_errors(form.transaction) }}
            {{ form_widget(form.transaction, {'attr': {'class': 'form-control'}}) }}
        </div>
        <br><br>
        <div class="text-center mb-5">
        <button type="submit" class="btn btn-primary">{{ button_label|default('Update') }}</button>
        </div>
        {{ form_end(form) }}
    
      </div>
      </div>
    </div>
  </div>


{% block javascripts %}
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>

        $(function() {
            $('.rating .fa-star').on('click', function() {
                var value = $(this).data('value');
                $('.rating .fa-star').removeClass('checked');
                $(this).prevAll().addBack().addClass('checked');
                $('#feedback_rating').val(value);
                $('#rating-label').text(value + ' stars');
            });
        });
        
    </script>
    <style>
        .rating .fa-star.checked {
            color: yellow;
        }
        .icon-back {
  color: #14B1A1;
}
  .btn-primary {
             background-color: #14B1A1;
             border-color: #14B1A1;
        }
    </style>
{% endblock %}

    


    {{ include('feedback/_delete_form.html.twig') }}
{% endblock %}
